{"version":3,"file":"parser-plugins.js","sources":["../lib/cards/audio.js","../lib/cards/button.js","../lib/helpers.js","../lib/cards/embed.js","../lib/cards/file.js","../lib/cards/header.js","../lib/cards/html.js","../lib/cards/image.js","../lib/cards/product.js","../lib/cards/soft-return.js","../lib/cards/video.js","../lib/cards/gallery.js","../lib/parser-plugins.js"],"sourcesContent":["export function fromKoenigCard() {\n    return function kgAudioCardToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || !node.classList.contains('kg-audio-card')) {\n            return;\n        }\n\n        const titleNode = node.querySelector('.kg-audio-title');\n        const audioNode = node.querySelector('.kg-audio-player-container audio');\n        const thumbnailNode = node.querySelector('.kg-audio-thumbnail');\n        const durationNode = node.querySelector('.kg-audio-duration');\n        const title = titleNode && titleNode.innerHTML.trim();\n        const audioSrc = audioNode && audioNode.src;\n        const thumbnailSrc = thumbnailNode && thumbnailNode.src;\n        const durationText = durationNode && durationNode.innerHTML.trim();\n\n        if (!audioSrc) {\n            return;\n        }\n\n        const payload = {\n            src: audioSrc,\n            title: title\n        };\n        if (thumbnailSrc) {\n            payload.thumbnailSrc = thumbnailSrc;\n        }\n\n        if (durationText) {\n            const {minutes, seconds} = durationText.split(':');\n            try {\n                payload.duration = parseInt(minutes) * 60 + parseInt(seconds);\n            } catch (e) {\n                // ignore duration\n            }\n        }\n\n        const cardSection = builder.createCardSection('audio', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n","function getButtonText(node) {\n    let buttonText = node.textContent;\n    if (buttonText) {\n        buttonText = buttonText.replace(/\\n/g, ' ').replace(/\\s+/g, ' ').trim();\n    }\n    return buttonText;\n}\n\nexport function fromKoenigCard() {\n    return function kgButtonCardToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || !node.classList.contains('kg-button-card')) {\n            return;\n        }\n\n        const alignment = node.classList.contains('kg-align-center') ? 'center' : 'left';\n\n        const anchor = node.querySelector('a');\n\n        const buttonUrl = anchor.href;\n        const buttonText = getButtonText(anchor);\n\n        if (!buttonUrl || !buttonText) {\n            return;\n        }\n\n        const payload = {\n            alignment,\n            buttonUrl,\n            buttonText\n        };\n\n        const cardSection = builder.createCardSection('button', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n\nexport function fromWordpressButton() {\n    return function wordpressButtonToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || !node.classList.contains('wp-block-button__link')) {\n            return;\n        }\n\n        const buttonUrl = node.href;\n        const buttonText = getButtonText(node);\n\n        if (!buttonUrl || !buttonText) {\n            return;\n        }\n\n        let alignment = 'left';\n\n        if (node.closest('.is-content-justification-center, .is-content-justification-right')) {\n            alignment = 'center';\n        }\n\n        const payload = {\n            alignment,\n            buttonUrl,\n            buttonText\n        };\n\n        const cardSection = builder.createCardSection('button', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n\nexport function fromSubstackButton() {\n    return function substackButtonToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || !node.classList.contains('button')) {\n            return;\n        }\n\n        // substack has .button-wrapper elems with a data-attrs JSON object with `url` and `text`\n        // we're not using that in favour of grabbing the anchor element directly for simplicity\n\n        const anchor = node.tagName === 'A' ? node : node.querySelector('a');\n\n        if (!anchor) {\n            return;\n        }\n\n        const buttonUrl = anchor.href;\n        const buttonText = getButtonText(anchor);\n\n        if (!buttonUrl || !buttonText) {\n            return;\n        }\n\n        const payload = {\n            alignment: 'center', // all Substack buttons are centered\n            buttonUrl,\n            buttonText\n        };\n\n        const cardSection = builder.createCardSection('button', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n","export function addFigCaptionToPayload(node, payload, {selector = 'figcaption', options}) {\n    let figcaptions = Array.from(node.querySelectorAll(selector));\n\n    if (figcaptions.length) {\n        figcaptions.forEach((caption) => {\n            let cleanHtml = options.cleanBasicHtml(caption.innerHTML);\n            payload.caption = payload.caption ? `${payload.caption} / ${cleanHtml}` : cleanHtml;\n            caption.remove(); // cleanup this processed element\n        });\n    }\n}\n\nexport function readImageAttributesFromNode(node) {\n    const attrs = {};\n\n    if (node.src) {\n        attrs.src = node.src;\n    }\n\n    if (node.width) {\n        attrs.width = node.width;\n    } else if (node.dataset && node.dataset.width) {\n        attrs.width = parseInt(node.dataset.width, 10);\n    }\n\n    if (node.height) {\n        attrs.height = node.height;\n    } else if (node.dataset && node.dataset.height) {\n        attrs.height = parseInt(node.dataset.height, 10);\n    }\n\n    if ((!node.width && !node.height) && node.getAttribute('data-image-dimensions')) {\n        const [, width, height] = (/^(\\d*)x(\\d*)$/gi).exec(node.getAttribute('data-image-dimensions'));\n        attrs.width = parseInt(width, 10);\n        attrs.height = parseInt(height, 10);\n    }\n\n    if (node.alt) {\n        attrs.alt = node.alt;\n    }\n\n    if (node.title) {\n        attrs.title = node.title;\n    }\n\n    if (node.parentNode.tagName === 'A') {\n        const href = node.parentNode.href;\n\n        if (href !== attrs.src) {\n            attrs.href = href;\n        }\n    }\n\n    return attrs;\n}\n","import {addFigCaptionToPayload} from '../helpers';\n\n// Helpers\n\nfunction _createPayloadForIframe(iframe) {\n    // If we don't have a src Or it's not an absolute URL, we can't handle this\n    // This regex handles http://, https:// or //\n    if (!iframe.src || !iframe.src.match(/^(https?:)?\\/\\//i)) {\n        return;\n    }\n\n    // if it's a schemaless URL, convert to https\n    if (iframe.src.match(/^\\/\\//)) {\n        iframe.src = `https:${iframe.src}`;\n    }\n\n    let payload = {\n        url: iframe.src\n    };\n\n    payload.html = iframe.outerHTML;\n\n    return payload;\n}\n\n// Plugins\n\nexport function fromMixtape(options) {\n    return function mixtapeEmbed(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'DIV' || !node.className.match(/graf--mixtapeEmbed/)) {\n            return;\n        }\n\n        // Grab the relevant elements - Anchor wraps most of the data\n        let anchorElement = node.querySelector('.markup--mixtapeEmbed-anchor');\n        let titleElement = anchorElement.querySelector('.markup--mixtapeEmbed-strong');\n        let descElement = anchorElement.querySelector('.markup--mixtapeEmbed-em');\n        // Image is a top level field inside it's own a tag\n        let imgElement = node.querySelector('.mixtapeImage');\n\n        // Grab individual values from the elements\n        let url = anchorElement.href;\n        let title = '';\n        let description = '';\n\n        if (titleElement && titleElement.innerHTML) {\n            title = options.cleanBasicHtml(titleElement.innerHTML);\n            // Cleanup anchor so we can see what's left now that we've processed title\n            anchorElement.removeChild(titleElement);\n        }\n\n        if (descElement && descElement.innerHTML) {\n            description = options.cleanBasicHtml(descElement.innerHTML);\n            // Cleanup anchor so we can see what's left now that we've processed description\n            anchorElement.removeChild(descElement);\n        }\n\n        // // Format our preferred structure.\n        let metadata = {\n            url,\n            title,\n            description\n        };\n\n        // Publisher is the remaining text in the anchor, once title & desc are removed\n        let publisher = options.cleanBasicHtml(anchorElement.innerHTML);\n        if (publisher) {\n            metadata.publisher = publisher;\n        }\n\n        // Image is optional,\n        // The element usually still exists with an additional has.mixtapeImage--empty class and has no background image\n        if (imgElement && imgElement.style['background-image']) {\n            metadata.thumbnail = imgElement.style['background-image'].match(/url\\(([^)]*?)\\)/)[1];\n        }\n\n        let payload = {url, metadata};\n        let cardSection = builder.createCardSection('bookmark', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n\nexport function fromFigureIframe(options) {\n    return function figureIframeToEmbed(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'FIGURE') {\n            return;\n        }\n\n        let iframe = node.querySelector('iframe');\n\n        if (!iframe) {\n            return;\n        }\n\n        let payload = _createPayloadForIframe(iframe);\n\n        if (!payload) {\n            return;\n        }\n\n        addFigCaptionToPayload(node, payload, {options});\n\n        let cardSection = builder.createCardSection('embed', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n\nexport function fromIframe() {\n    return function iframeToEmbedCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'IFRAME') {\n            return;\n        }\n\n        let payload = _createPayloadForIframe(node);\n\n        if (!payload) {\n            return;\n        }\n\n        let cardSection = builder.createCardSection('embed', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n\nexport function fromFigureBlockquote(options) {\n    return function figureBlockquoteToEmbedCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'FIGURE') {\n            return;\n        }\n\n        let blockquote = node.querySelector('blockquote');\n        let link = node.querySelector('a');\n\n        if (!blockquote || !link) {\n            return;\n        }\n\n        let url = link.href;\n\n        // If we don't have a url, or it's not an absolute URL, we can't handle this\n        if (!url || !url.match(/^https?:\\/\\//i)) {\n            return;\n        }\n\n        let payload = {\n            url: url\n        };\n\n        addFigCaptionToPayload(node, payload, {options});\n\n        payload.html = node.innerHTML;\n\n        let cardSection = builder.createCardSection('embed', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n\nexport function fromNFTEmbed() {\n    return function fromNFTEmbedToEmbedCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || (node.tagName !== 'FIGURE' && node.tagName !== 'NFT-CARD' && node.tagName !== 'DIV')) {\n            return;\n        }\n\n        // Attempt to parse Ghost NFT Card\n        if (node.tagName === 'FIGURE') {\n            if (!node.classList.contains('kg-nft-card')) {\n                return;\n            }\n            let nftCard = node.querySelector('a');\n\n            if (!nftCard) {\n                return;\n            }\n\n            let payload;\n            try {\n                payload = JSON.parse(decodeURIComponent(nftCard.dataset.payload));\n            } catch (err) {\n                return nodeFinished();\n            }\n\n            let cardSection = builder.createCardSection('embed', payload);\n            addSection(cardSection);\n            return nodeFinished();\n        }\n\n        // Attempt to parse Substack NFT Card\n        if (node.tagName === 'DIV') {\n            if (!node.classList.contains('opensea')) {\n                return;\n            }\n\n            let url = node.querySelector('a');\n            let [match, contractAddress, tokenId] = url.href.match(/\\/assets\\/(0x[0-9a-f]+)\\/(\\d+)/);\n\n            if (!match) {\n                return;\n            }\n\n            let payload = {\n                url: url.href,\n                html: `<nft-card contractAddress=\"${contractAddress}\" tokenId=\"${tokenId}\"></nft-card><script src=\"https://unpkg.com/embeddable-nfts/dist/nft-card.min.js\"></script>`\n            };\n            let cardSection = builder.createCardSection('embed', payload);\n            addSection(cardSection);\n            return nodeFinished();\n        }\n\n        if (node.tagName === 'NFT-CARD') {\n            let attr = node.attributes;\n            let contractAddress = (attr.contractAddress || attr.contractaddress || attr.tokenaddress || attr.contractaddress).value;\n            let tokenId = (attr.tokenId || attr.tokenid).value;\n            if (!contractAddress || !tokenId) {\n                return;\n            }\n            let payload = {\n                url: `https://opensea.io/assets/${contractAddress}/${tokenId}/`,\n                html: `<nft-card contractAddress=\"${contractAddress}\" tokenId=\"${tokenId}\"></nft-card><script src=\"https://unpkg.com/embeddable-nfts/dist/nft-card.min.js\"></script>`\n            };\n            let cardSection = builder.createCardSection('embed', payload);\n            addSection(cardSection);\n            return nodeFinished();\n        }\n    };\n}\n","function transformSizeToBytes(sizeStr = '') {\n    if (!sizeStr) {\n        return 0;\n    }\n    const [sizeVal, sizeType] = sizeStr.split(' ');\n    if (!sizeVal || !sizeType) {\n        return 0;\n    }\n    if (sizeType === 'Bytes') {\n        return Number(sizeVal);\n    } else if (sizeType === 'KB') {\n        return Number(sizeVal) * 2048;\n    } else if (sizeType === 'MB') {\n        return Number(sizeVal) * 2048 * 2048;\n    }\n}\n\nexport function fromKoenigCard() {\n    return function kgFileCardToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || !node.classList.contains('kg-file-card')) {\n            return;\n        }\n\n        const titleNode = node.querySelector('.kg-file-card-title');\n        const captionNode = node.querySelector('.kg-file-card-caption');\n        const fileNameNode = node.querySelector('.kg-file-card-filename');\n        const fileSizeNode = node.querySelector('.kg-file-card-filesize');\n        const fileCardLinkNode = node.querySelector('.kg-file-card-container');\n        const title = titleNode && titleNode.innerHTML.trim();\n        const caption = captionNode && captionNode.innerHTML.trim();\n        const fileName = fileNameNode && fileNameNode.innerHTML.trim();\n        const fileSizeStr = fileSizeNode && fileSizeNode.innerHTML.trim();\n        const fileSrc = fileCardLinkNode && fileCardLinkNode.href;\n\n        if (!fileSrc) {\n            return;\n        }\n\n        const payload = {\n            src: fileSrc,\n            fileTitle: title,\n            fileCaption: caption,\n            fileSize: transformSizeToBytes(fileSizeStr),\n            fileName: fileName\n        };\n\n        const cardSection = builder.createCardSection('file', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n","export function fromKoenigCard() {\n    return function kgHeaderCardToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || !node.classList.contains('kg-header-card')) {\n            return;\n        }\n\n        const headerNode = node.querySelector('.kg-header-card-header');\n        const subheaderNode = node.querySelector('.kg-header-card-subheader');\n        const buttonNode = node.querySelector('.kg-header-card-button');\n\n        let header = '';\n        let subheader = '';\n        let buttonText = '';\n        let buttonUrl = '';\n\n        if (headerNode) {\n            header = headerNode.innerHTML.trim();\n        }\n        if (subheaderNode) {\n            subheader = subheaderNode.innerHTML.trim();\n        }\n\n        if (buttonNode) {\n            buttonText = buttonNode.textContent.trim();\n            buttonUrl = buttonNode.getAttribute('href').trim();\n        }\n\n        if (!header && !subheader && (!buttonNode || !buttonText || !buttonUrl)) {\n            return;\n        }\n\n        const classes = [...node.classList];\n        let backgroundImageSrc = '';\n        if (node.getAttribute('data-kg-background-image')) {\n            backgroundImageSrc = node.getAttribute('data-kg-background-image').trim();\n        }\n\n        const payload = {\n            header,\n            subheader,\n            buttonEnabled: Boolean(buttonNode),\n            buttonText,\n            buttonUrl,\n            backgroundImageSrc,\n            size: 'small',\n            style: 'dark'\n        };\n\n        const sizeClass = classes.find(c => /^kg-size-(small|medium|large)$/.test(c));\n        const styleClass = classes.find(c => /^kg-style-(dark|light|accent|image)$/.test(c));\n        if (sizeClass) {\n            payload.size = sizeClass.replace('kg-size-', '');\n        }\n        if (styleClass) {\n            payload.style = styleClass.replace('kg-style-', '');\n        }\n\n        const cardSection = builder.createCardSection('header', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n","// https://github.com/TryGhost/Koenig/issues/1\n// allows arbitrary HTML blocks wrapped in our card comments to be extracted\n// into a HTML card rather than being put through the normal parse+plugins\nexport function fromKoenigCard() {\n    return function kgHtmlCardToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 8 || node.nodeValue !== 'kg-card-begin: html') {\n            return;\n        }\n\n        let html = [];\n\n        function isHtmlEndComment(n) {\n            return n && n.nodeType === 8 && n.nodeValue === 'kg-card-end: html';\n        }\n\n        let nextNode = node.nextSibling;\n        while (nextNode && !isHtmlEndComment(nextNode)) {\n            let currentNode = nextNode;\n            html.push(currentNode.outerHTML);\n            nextNode = currentNode.nextSibling;\n            // remove nodes as we go so that they don't go through the parser\n            currentNode.remove();\n        }\n\n        let payload = {html: html.join('\\n').trim()};\n        let cardSection = builder.createCardSection('html', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n","import {addFigCaptionToPayload, readImageAttributesFromNode} from '../helpers';\n\nexport function fromImg() {\n    return function imgToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'IMG') {\n            return;\n        }\n\n        const payload = readImageAttributesFromNode(node);\n\n        const cardSection = builder.createCardSection('image', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n\nexport function fromFigure(options) {\n    return function figureImgToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'FIGURE') {\n            return;\n        }\n\n        const img = node.querySelector('img');\n        const kgClass = node.className.match(/kg-width-(wide|full)/);\n        const grafClass = node.className.match(/graf--layout(FillWidth|OutsetCenter)/);\n\n        if (!img) {\n            return;\n        }\n\n        const payload = readImageAttributesFromNode(img);\n\n        if (kgClass) {\n            payload.cardWidth = kgClass[1];\n        } else if (grafClass) {\n            payload.cardWidth = grafClass[1] === 'FillWidth' ? 'full' : 'wide';\n        }\n\n        addFigCaptionToPayload(node, payload, {options});\n\n        let cardSection = builder.createCardSection('image', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n","function getButtonText(node) {\n    let buttonText = node.textContent;\n    if (buttonText) {\n        buttonText = buttonText.replace(/\\n/g, ' ').replace(/\\s+/g, ' ').trim();\n    }\n    return buttonText;\n}\n\nexport function fromKoenigCard() {\n    return function kgButtonCardToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || !node.classList.contains('kg-product-card')) {\n            return;\n        }\n\n        const titleNode = node.querySelector('.kg-product-card-title');\n        const descriptionNode = node.querySelector('.kg-product-card-description');\n        const title = titleNode && titleNode.innerHTML.trim();\n        const description = descriptionNode && descriptionNode.innerHTML.trim();\n\n        if (!title && !description) {\n            return;\n        }\n\n        const payload = {\n            productButtonEnabled: false,\n            productRatingEnabled: false,\n\n            productTitle: title,\n            productDescription: description\n        };\n\n        const img = node.querySelector('.kg-product-card-image');\n        if (img && img.getAttribute('src')) {\n            payload.productImageSrc = img.getAttribute('src');\n        }\n\n        const stars = [...node.querySelectorAll('.kg-product-card-rating-active')].length;\n        if (stars) {\n            payload.productRatingEnabled = true;\n            payload.productStarRating = stars;\n        }\n\n        const button = node.querySelector('a');\n\n        if (button) {\n            const buttonUrl = button.href;\n            const buttonText = getButtonText(button);\n\n            if (buttonUrl && buttonText) {\n                payload.productButtonEnabled = true;\n                payload.productButton = buttonText;\n                payload.productUrl = buttonUrl;\n            }\n        }\n\n        const cardSection = builder.createCardSection('product', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n","export function fromBr() {\n    // mobiledoc by default ignores <BR> tags but we have a custom SoftReturn atom\n    return function fromBrToSoftReturnAtom(node, builder, {addMarkerable, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'BR') {\n            return;\n        }\n\n        let softReturn = builder.createAtom('soft-return');\n        addMarkerable(softReturn);\n\n        nodeFinished();\n    };\n}\n","export function fromKoenigCard() {\n    return function kgVideoCardToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || !node.classList.contains('kg-video-card')) {\n            return;\n        }\n\n        const videoNode = node.querySelector('.kg-video-player-container video');\n        const durationNode = node.querySelector('.kg-video-duration');\n        const videoSrc = videoNode && videoNode.src;\n        const durationText = durationNode && durationNode.innerHTML.trim();\n\n        if (!videoSrc) {\n            return;\n        }\n\n        const payload = {\n            src: videoSrc,\n            loop: !!videoNode.loop\n        };\n\n        if (durationText) {\n            const {minutes, seconds} = durationText.split(':');\n            try {\n                payload.duration = parseInt(minutes) * 60 + parseInt(seconds);\n            } catch (e) {\n                // ignore duration\n            }\n        }\n\n        const cardSection = builder.createCardSection('video', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n","import {addFigCaptionToPayload, readImageAttributesFromNode} from '../helpers';\n\nfunction readGalleryImageAttributesFromNode(node, imgNum) {\n    const image = readImageAttributesFromNode(node);\n\n    image.fileName = node.src.match(/[^/]*$/)[0];\n    image.row = Math.floor(imgNum / 3);\n\n    return image;\n}\n\nexport function fromKoenigCard(options) {\n    return function kgGalleryCardToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'FIGURE') {\n            return;\n        }\n\n        if (!node.className.match(/kg-gallery-card/)) {\n            return;\n        }\n\n        let payload = {};\n        let imgs = Array.from(node.querySelectorAll('img'));\n\n        // Process nodes into the payload\n        payload.images = imgs.map(readGalleryImageAttributesFromNode);\n\n        addFigCaptionToPayload(node, payload, {options});\n\n        let cardSection = builder.createCardSection('gallery', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n\nexport function fromGrafGallery(options) {\n    return function grafGalleryToCard(node, builder, {addSection, nodeFinished}) {\n        function isGrafGallery(n) {\n            return n.nodeType === 1 && n.tagName === 'DIV' && n.dataset && n.dataset.paragraphCount && n.querySelectorAll('img').length > 0;\n        }\n\n        if (!isGrafGallery(node)) {\n            return;\n        }\n\n        let payload = {};\n\n        // These galleries exist in multiple divs. Read the images and caption from the first one...\n        let imgs = Array.from(node.querySelectorAll('img'));\n        addFigCaptionToPayload(node, payload, {options});\n\n        // ...and then iterate over any remaining divs until we run out of matches\n        let nextNode = node.nextSibling;\n        while (nextNode && isGrafGallery(nextNode)) {\n            let currentNode = nextNode;\n            imgs = imgs.concat(Array.from(currentNode.querySelectorAll('img')));\n            addFigCaptionToPayload(currentNode, payload, {options});\n            nextNode = currentNode.nextSibling;\n            // remove nodes as we go so that they don't go through the parser\n            currentNode.remove();\n        }\n\n        // Process nodes into the payload\n        payload.images = imgs.map(readGalleryImageAttributesFromNode);\n\n        let cardSection = builder.createCardSection('gallery', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n\nexport function fromSqsGallery(options) {\n    return function sqsGalleriesToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'DIV' || !node.className.match(/sqs-gallery-container/) || node.className.match(/summary-/)) {\n            return;\n        }\n\n        let payload = {};\n\n        // Each image exists twice...\n        // The first image is wrapped in `<noscript>`\n        // The second image contains image dimensions but the src property needs to be taken from `data-src`.\n        let imgs = Array.from(node.querySelectorAll('img.thumb-image'));\n\n        imgs = imgs.map((img) => {\n            if (!img.getAttribute('src')) {\n                if (img.previousSibling.tagName === 'NOSCRIPT' && img.previousSibling.getElementsByTagName('img').length) {\n                    const prevNode = img.previousSibling;\n                    img.setAttribute('src', img.getAttribute('data-src'));\n                    prevNode.remove();\n                } else {\n                    return undefined;\n                }\n            }\n\n            return img;\n        });\n\n        addFigCaptionToPayload(node, payload, {options, selector: '.meta-title'});\n\n        // Process nodes into the payload\n        payload.images = imgs.map(readGalleryImageAttributesFromNode);\n\n        let cardSection = builder.createCardSection('gallery', payload);\n        addSection(cardSection);\n        nodeFinished();\n    };\n}\n","/**\n * Copied from:\n * https://github.com/TryGhost/Ghost-Admin/blob/1f3d77d7230dd47a7eb5f38b90dfa510b2a16801/lib/koenig-editor/addon/options/parser-plugins.js\n * Which makes use of:\n * https://github.com/TryGhost/Ghost-Admin/blob/1f3d77d7230dd47a7eb5f38b90dfa510b2a16801/lib/koenig-editor/addon/helpers/clean-basic-html.js\n *\n * These functions are used to proces nodes during parsing from DOM -> mobiledoc\n */\n\nimport cleanBasicHtml from '@tryghost/kg-clean-basic-html';\n\nimport * as audioCard from './cards/audio';\nimport * as buttonCard from './cards/button';\nimport * as embedCard from './cards/embed';\nimport * as fileCard from './cards/file';\nimport * as headerCard from './cards/header';\nimport * as htmlCard from './cards/html';\nimport * as imageCard from './cards/image';\nimport * as productCard from './cards/product';\nimport * as softReturn from './cards/soft-return';\nimport * as videoCard from './cards/video';\nimport * as galleryCard from './cards/gallery';\n\nexport function createParserPlugins(_options = {}) {\n    const defaults = {};\n    const options = Object.assign({}, defaults, _options);\n\n    if (!options.createDocument) {\n        const Parser = (typeof DOMParser !== 'undefined' && DOMParser) || (typeof window !== 'undefined' && window.DOMParser);\n\n        if (!Parser) {\n            // eslint-disable-next-line ghost/ghost-custom/no-native-error\n            throw new Error('createParserPlugins() must be passed a `createDocument` function as an option when used in a non-browser environment');\n        }\n\n        options.createDocument = function (html) {\n            const parser = new Parser();\n            return parser.parseFromString(html, 'text/html');\n        };\n    }\n\n    options.cleanBasicHtml = function (html) {\n        return cleanBasicHtml(html, options);\n    };\n\n    // HELPERS -----------------------------------------------------------------\n\n    function _readFigCaptionFromNode(node, payload, selector = 'figcaption') {\n        let figcaptions = Array.from(node.querySelectorAll(selector));\n\n        if (figcaptions.length) {\n            figcaptions.forEach((caption) => {\n                let cleanHtml = options.cleanBasicHtml(caption.innerHTML);\n                payload.caption = payload.caption ? `${payload.caption} / ${cleanHtml}` : cleanHtml;\n                caption.remove(); // cleanup this processed element\n            });\n        }\n    }\n\n    // PLUGINS -----------------------------------------------------------------\n\n    function kgCalloutCardToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || !node.classList.contains('kg-callout-card')) {\n            return;\n        }\n\n        const emojiNode = node.querySelector('.kg-callout-emoji');\n        const htmlNode = node.querySelector('.kg-callout-text');\n\n        const backgroundColor = node.style.backgroundColor || '#F1F3F4';\n\n        let calloutEmoji = '';\n        if (emojiNode) {\n            calloutEmoji = emojiNode?.textContent;\n            if (calloutEmoji) {\n                calloutEmoji = calloutEmoji.trim();\n            }\n        }\n\n        let calloutText = htmlNode?.innerHTML || '';\n\n        const payload = {\n            calloutEmoji,\n            calloutText,\n            backgroundColor\n        };\n\n        const cardSection = builder.createCardSection('callout', payload);\n        addSection(cardSection);\n        nodeFinished();\n    }\n\n    function kgToggleCardToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || !node.classList.contains('kg-toggle-card')) {\n            return;\n        }\n\n        const headingNode = node.querySelector('.kg-toggle-heading-text');\n        const contentNode = node.querySelector('.kg-toggle-content');\n\n        let toggleHeading = headingNode.innerHTML;\n        let toggleContent = contentNode.innerText;\n\n        const payload = {\n            heading: toggleHeading,\n            content: toggleContent\n        };\n\n        const cardSection = builder.createCardSection('toggle', payload);\n        addSection(cardSection);\n        nodeFinished();\n    }\n\n    // leading newlines in text nodes will add a space to the beginning of the text\n    // which doesn't render correctly if we're replacing <br> with SoftReturn atoms\n    // after parsing text as markdown to html\n    function removeLeadingNewline(node) {\n        if (node.nodeType !== 3 || node.nodeName !== '#text') {\n            return;\n        }\n\n        node.nodeValue = node.nodeValue.replace(/^\\n/, '');\n    }\n\n    function hrToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'HR') {\n            return;\n        }\n\n        let cardSection = builder.createCardSection('hr');\n        addSection(cardSection);\n        nodeFinished();\n    }\n\n    function figureToCodeCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'FIGURE') {\n            return;\n        }\n\n        let pre = node.querySelector('pre');\n\n        // If this figure doesn't have a pre tag in it\n        if (!pre) {\n            return;\n        }\n\n        let code = pre.querySelector('code');\n        let figcaption = node.querySelector('figcaption');\n\n        // if there's no caption the preCodeToCard plugin will pick it up instead\n        if (!code || !figcaption) {\n            return;\n        }\n\n        let payload = {\n            code: code.textContent\n        };\n\n        _readFigCaptionFromNode(node, payload);\n\n        let preClass = pre.getAttribute('class') || '';\n        let codeClass = code.getAttribute('class') || '';\n        let langRegex = /lang(?:uage)?-(.*?)(?:\\s|$)/i;\n        let languageMatches = preClass.match(langRegex) || codeClass.match(langRegex);\n        if (languageMatches) {\n            payload.language = languageMatches[1].toLowerCase();\n        }\n\n        let cardSection = builder.createCardSection('code', payload);\n        addSection(cardSection);\n        nodeFinished();\n    }\n\n    function preCodeToCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'PRE') {\n            return;\n        }\n\n        let [codeElement] = node.children;\n\n        if (codeElement && codeElement.tagName === 'CODE') {\n            let payload = {code: codeElement.textContent};\n\n            let preClass = node.getAttribute('class') || '';\n            let codeClass = codeElement.getAttribute('class') || '';\n            let langRegex = /lang(?:uage)?-(.*?)(?:\\s|$)/i;\n            let languageMatches = preClass.match(langRegex) || codeClass.match(langRegex);\n            if (languageMatches) {\n                payload.language = languageMatches[1].toLowerCase();\n            }\n\n            let cardSection = builder.createCardSection('code', payload);\n            addSection(cardSection);\n            nodeFinished();\n        }\n    }\n\n    function figureScriptToHtmlCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'FIGURE') {\n            return;\n        }\n\n        let script = node.querySelector('script');\n\n        if (!script || !script.src.match(/^https:\\/\\/gist\\.github\\.com/)) {\n            return;\n        }\n\n        let payload = {html: script.outerHTML};\n        let cardSection = builder.createCardSection('html', payload);\n        addSection(cardSection);\n        nodeFinished();\n    }\n\n    // Nested paragraphs in blockquote are currently treated as separate blockquotes,\n    // see [here](https://github.com/bustle/mobiledoc-kit/issues/715). When running migrations,\n    // this is not the desired behaviour and will cause the content to lose the previous semantic.\n    function blockquoteWithChildren(node) {\n        if (node.nodeType !== 1 || node.tagName !== 'BLOCKQUOTE' || node.children.length < 1) {\n            return;\n        }\n\n        const html = [];\n        const children = Array.from(node.children);\n\n        children.forEach((child) => {\n            let nextSibling = child.nextSibling;\n            let previousSibling = child.previousSibling;\n\n            // Only add a soft-break for two sequential paragraphs.\n            // Use the innerHTML only in that case, so Mobiledoc's default behaviour\n            // of creating separate blockquotes doesn't apply.\n            if (child.tagName === 'P' && (nextSibling && nextSibling.tagName === 'P')) {\n                html.push(`${child.innerHTML}<br><br>`);\n            } else if (child.tagName === 'P' && (previousSibling && previousSibling.tagName === 'P')) {\n                html.push(child.innerHTML);\n            } else {\n                html.push(child.outerHTML);\n            }\n        });\n\n        node.innerHTML = html.join('').trim();\n\n        return;\n    }\n\n    // we store alt-style blockquotes as `aside` sections as a workaround\n    // for mobiledoc not allowing arbitrary attributes on markup sections\n    function altBlockquoteToAside(node) {\n        if (node.nodeType !== 1 || node.tagName !== 'BLOCKQUOTE') {\n            return;\n        }\n\n        if (!node.classList.contains('kg-blockquote-alt')) {\n            return;\n        }\n\n        const replacementDoc = options.createDocument(`<aside>${node.innerHTML}</aside>`);\n        const aside = replacementDoc.querySelector('aside');\n\n        // bit of an ugly hack because\n        // 1. node.tagName is readonly so we can't directly change it's type\n        // 2. the node list of the current tree branch is not re-evaluated so removing\n        //    this node, replacing it, or adding a new _sibling_ will not be picked up\n        //\n        // relies on mobiledoc-kit's handling of nested elements picking the\n        // inner-most understandable section element when creating sections\n        node.textContent = '';\n        node.appendChild(aside);\n\n        // let the default parser handle the nested aside node, keeping any formatting\n        return;\n    }\n\n    function tableToHtmlCard(node, builder, {addSection, nodeFinished}) {\n        if (node.nodeType !== 1 || node.tagName !== 'TABLE') {\n            return;\n        }\n\n        if (node.parentNode.tagName === 'TABLE') {\n            return;\n        }\n\n        let payload = {html: node.outerHTML};\n        let cardSection = builder.createCardSection('html', payload);\n        addSection(cardSection);\n        nodeFinished();\n    }\n\n    return [\n        embedCard.fromNFTEmbed(),\n        embedCard.fromMixtape(options),\n        htmlCard.fromKoenigCard(options),\n        buttonCard.fromKoenigCard(options),\n        buttonCard.fromWordpressButton(options),\n        buttonCard.fromSubstackButton(options),\n        kgCalloutCardToCard,\n        kgToggleCardToCard,\n        productCard.fromKoenigCard(options),\n        audioCard.fromKoenigCard(options),\n        videoCard.fromKoenigCard(options),\n        fileCard.fromKoenigCard(options),\n        headerCard.fromKoenigCard(options),\n        blockquoteWithChildren,\n        softReturn.fromBr(options),\n        removeLeadingNewline,\n        galleryCard.fromKoenigCard(options),\n        embedCard.fromFigureBlockquote(options), // I think these can contain images\n        galleryCard.fromGrafGallery(options),\n        galleryCard.fromSqsGallery(options),\n        imageCard.fromFigure(options),\n        imageCard.fromImg(options),\n        hrToCard,\n        figureToCodeCard,\n        preCodeToCard,\n        embedCard.fromFigureIframe(options),\n        embedCard.fromIframe(options), // Process iFrames without figures after ones with\n        figureScriptToHtmlCard,\n        altBlockquoteToAside,\n        tableToHtmlCard\n    ];\n}\n"],"names":["fromKoenigCard","getButtonText","embedCard.fromNFTEmbed","embedCard.fromMixtape","htmlCard.fromKoenigCard","buttonCard.fromKoenigCard","buttonCard.fromWordpressButton","buttonCard.fromSubstackButton","productCard.fromKoenigCard","audioCard.fromKoenigCard","videoCard.fromKoenigCard","fileCard.fromKoenigCard","headerCard.fromKoenigCard","softReturn.fromBr","galleryCard.fromKoenigCard","embedCard.fromFigureBlockquote","galleryCard.fromGrafGallery","galleryCard.fromSqsGallery","imageCard.fromFigure","imageCard.fromImg","embedCard.fromFigureIframe","embedCard.fromIframe"],"mappings":"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"}